



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for Islandora Enterprise (ISLE)">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0, mkdocs-material-3.0.3">
    
    
      
        <title>Installing module with composer - Islandora Enterprise (ISLE)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#installing-a-module-with-composer" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Islandora Enterprise (ISLE)" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Islandora Enterprise (ISLE)
              </span>
              <span class="md-header-nav__topic">
                Installing module with composer
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Islandora Enterprise (ISLE)" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Islandora Enterprise (ISLE)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-islandora-multi-importer-imi" title="Example: Islandora Multi-Importer (IMI)" class="md-nav__link">
    Example: Islandora Multi-Importer (IMI)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#persistent-changes" title="Persistent Changes" class="md-nav__link">
    Persistent Changes
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <!--- PAGE_TITLE --->

<h1 id="installing-a-module-with-composer">Installing a Module with Composer</h1>
<p><em>Note: There is always more than one way to do things, like installing a module, with Docker.  This is just one of many approaches for installing a module using Composer.</em></p>
<p><em>Composer</em> is a PHP package/dependency manager employed in Drupal 8 and many other PHP-based applications.  Some Drupal 7, and subsequently Islandora 7.x, modules may also employ <em>Composer</em> to assist with installation and module management.  </p>
<p><em>Composer</em> is included, or 'baked in', to ISLE's Apache container image.  You can open a shell inside a running ISLE Apache container (<a href="../open-terminal-in-running-container/">see these instructions for opening a terminal in a container</a> to use it.  When you open a shell inside the Apache container you'll initially be logged in as 'root'; however, <em>Composer</em> should not be run as 'root' so once the shell is open you should switch to the <em>islandora</em> user.  Do this by entering <code>sudo su islandora</code>, and your prompt should change to something like this: <code>islandora@dd9ee02aa718:/$</code>.  You can confirm that Composer is installed and accessible by entering <code>composer --version</code>, and you should see something like this in response: <code>Composer version 1.6.3 2018-01-31 16:28:17</code>.</p>
<h2 id="example-islandora-multi-importer-imi">Example: Islandora Multi-Importer (IMI)</h2>
<p>The <em>Islandora Multi-Importer</em> (https://github.com/mnylc/islandora_multi_importer) module uses <em>Composer</em> for installation.  The remainder of this guide will demonstrate how to install and enable the <em>Islandora Multi-Importer</em> or <em>IMI</em>.  </p>
<p>The installation instructions for the IMI module tell us to do the following in the container shell:</p>
<pre><code>cd /var/www/html/sites/all/modules
git clone https://github.com/mnylc/islandora_multi_importer
cd islandora_multi_importer/
composer install
</code></pre>

<p>If all goes as planned your container now has the Islandora_Multi-Importer installed, but not enabled.  To enable the module use <em>Drush</em> like so:</p>
<pre><code>drush en islandora_multi_importer -y
</code></pre>

<p>It's also a good idea to flush Drupal's cache after installing and enabling new modules.  You can also do this using <em>Drush</em> like so:</p>
<pre><code>drush cc all
</code></pre>

<p>Other modules which use <em>Composer</em> for installation can be obtained in a similar manner.</p>
<h2 id="persistent-changes">Persistent Changes</h2>
<p>Modules installed in this manner essentially become part of the container they're installed in.  If the container is deleted the installation may not persist.  However, in most ISLE configurations, like isle.localdomain, the Apache portion of the governing docker-compose.yml file reads something like this:</p>
<pre><code>  apache:
    image: islandoracollabgroup/isle-apache:latest
    container_name: isle-apache-ld
    networks:
      isle-internal:
        aliases:
          - isle.localdomain
    tty: true
    depends_on:
      - mysql
      - fedora
      - solr
    volumes:
      - apache-data-ld:/var/www/html
      - ./data/apache/log/apache:/var/log/apache2
</code></pre>

<p>The first <em>volumes</em> definition in this portion of the file instructs Docker to map the host's <code>apache-data-ld</code> directory to be reflected inside the container as <code>/var/www/html</code>.   This means that any changes made inside the container's <code>/var/www/html</code> directory will also persist in the host's <code>apache-data-ld</code> subdirectory.</p>
<p>IMI's compose specification builds all of the module's components in subdirectories below <code>/var/www/html</code>, and the effect is that IMI will persist in ISLE as long as the host's <code>apache-data-ld</code> folder is maintained.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0",url:{base:"../.."}})</script>
      
        <script src="../../extra.js"></script>
      
    
    
      
    
  </body>
</html>