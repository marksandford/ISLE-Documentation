



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for Islandora Enterprise (ISLE)">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0, mkdocs-material-3.0.3">
    
    
      
        <title>Build Guide - Islandora Enterprise (ISLE)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#assumptions-prerequisites" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Islandora Enterprise (ISLE)" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Islandora Enterprise (ISLE)
              </span>
              <span class="md-header-nav__topic">
                Build Guide
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Islandora Enterprise (ISLE)" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Islandora Enterprise (ISLE)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Installation and Migration Instructions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Installation and Migration Instructions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../install_start_here/" title="1. Start Here" class="md-nav__link">
      1. Start Here
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      2. Host Server Prerequisites
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        2. Host Server Prerequisites
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/host_server_system_specifications/" title="Host Server Specifications" class="md-nav__link">
      Host Server Specifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/install_on_centos/" title="Install ISLE Host Server Dependencies on CentOS" class="md-nav__link">
      Install ISLE Host Server Dependencies on CentOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/install_on_ubuntu/" title="Install ISLE Host Server Dependencies on Ubuntu 16.04" class="md-nav__link">
      Install ISLE Host Server Dependencies on Ubuntu 16.04
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/install_on_ubuntu_1804/" title="Install ISLE Host Server Dependencies on Ubuntu 18.04 (ISLE RC 1.1)" class="md-nav__link">
      Install ISLE Host Server Dependencies on Ubuntu 18.04 (ISLE RC 1.1)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/install_docker_for_mac/" title="Docker for Mac" class="md-nav__link">
      Docker for Mac
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/install_docker_for_windows/" title="Docker for Windows" class="md-nav__link">
      Docker for Windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/install_macos_vagrant/" title="Vagrant & VirtualBox on MacOS" class="md-nav__link">
      Vagrant & VirtualBox on MacOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../01_installation_host_server/install_troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      3. Install ISLE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        3. Install ISLE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-1" type="checkbox" id="nav-2-3-1">
    
    <label class="md-nav__link" for="nav-2-3-1">
      Install a Test Site
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-3-1">
        Install a Test Site
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../02_installation_test/ild_example_user_story/" title="Test Site Example User Story" class="md-nav__link">
      Test Site Example User Story
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../02_installation_test/ild_installation_guide/" title="Test Site Installation Guide" class="md-nav__link">
      Test Site Installation Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../02_installation_test/ild_resources/" title="Test Site Resources" class="md-nav__link">
      Test Site Resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-2" type="checkbox" id="nav-2-3-2">
    
    <label class="md-nav__link" for="nav-2-3-2">
      Install a New ISLE Site
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-3-2">
        Install a New ISLE Site
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../03_installation_new_site/new_site_example_user_story/" title="New Site Example User Story" class="md-nav__link">
      New Site Example User Story
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../03_installation_new_site/new_site_installation_guide_single/" title="New Site Installation Guide - w/ Single ISLE Environment" class="md-nav__link">
      New Site Installation Guide - w/ Single ISLE Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../03_installation_new_site/new_site_installation_guide_multi/" title="New Site Installation Guide - w/ multiple ISLE Environments" class="md-nav__link">
      New Site Installation Guide - w/ multiple ISLE Environments
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3-3" type="checkbox" id="nav-2-3-3">
    
    <label class="md-nav__link" for="nav-2-3-3">
      Migrate an Existing Islandora site to ISLE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-3-3">
        Migrate an Existing Islandora site to ISLE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../04_installation_migration/migration_example_user_story/" title="Migration Example User Story" class="md-nav__link">
      Migration Example User Story
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../04_installation_migration/migration_installation_guide/" title="Migration Guide" class="md-nav__link">
      Migration Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../04_installation_migration/migration_export_checklist/" title="Migration Export Checklist" class="md-nav__link">
      Migration Export Checklist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../04_installation_migration/migration_merge_checklist/" title="Migration Merge Checklist" class="md-nav__link">
      Migration Merge Checklist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../04_installation_migration/migration_reindex_process/" title="Migration Reindex Process" class="md-nav__link">
      Migration Reindex Process
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Developer Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Developer Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_documentation_overview/" title="Documentation Overview" class="md-nav__link">
      Documentation Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_documentation_editing_online/" title="Documentation Editing - Online" class="md-nav__link">
      Documentation Editing - Online
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_documentation_editing_local/" title="Documentation Editing - Local" class="md-nav__link">
      Documentation Editing - Local
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_documentation_mkdocs/" title="Installing Mkdocs" class="md-nav__link">
      Installing Mkdocs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_release_process/" title="Release process" class="md-nav__link">
      Release process
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_example_user_story/" title="Example User Story" class="md-nav__link">
      Example User Story
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Build Guide
      </label>
    
    <a href="./" title="Build Guide" class="md-nav__link md-nav__link--active">
      Build Guide
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#assumptions-prerequisites" title="Assumptions / Prerequisites" class="md-nav__link">
    Assumptions / Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-ensure-there-are-no-local-isle-docker-images-present" title="Step 1: Ensure there are no local ISLE Docker images present" class="md-nav__link">
    Step 1: Ensure there are no local ISLE Docker images present
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-rename-the-docker-composeyml-file" title="Step 2: Rename the docker-compose.yml file" class="md-nav__link">
    Step 2: Rename the docker-compose.yml file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-rename-the-docker-compose-buildyml-file" title="Step 3: Rename the docker-compose-build.yml file" class="md-nav__link">
    Step 3: Rename the docker-compose-build.yml file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3a-alternative-for-non-isle-maintainers-only-eg-developers" title="Step 3a: Alternative for non-ISLE maintainers only e.g. Developers" class="md-nav__link">
    Step 3a: Alternative for non-ISLE maintainers only e.g. Developers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-build-the-images-in-this-suggested-order" title="Step 4: Build the images in this suggested order" class="md-nav__link">
    Step 4: Build the images in this suggested order
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-tag-the-resulting-images" title="Step 5: Tag the resulting images" class="md-nav__link">
    Step 5: Tag the resulting images
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-push-the-images-to-the-image-repository" title="Step 6: Push the images to the image repository" class="md-nav__link">
    Step 6: Push the images to the image repository
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-rename-the-docker-compose-buildyml-file" title="Step 7: Rename the docker-compose-build.yml file" class="md-nav__link">
    Step 7: Rename the docker-compose-build.yml file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-rename-the-docker-composeyml-file" title="Step 8: Rename the docker-compose.yml file" class="md-nav__link">
    Step 8: Rename the docker-compose.yml file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-delete-all-recently-built-and-pushed-isle-images-on-local-laptop" title="Step 9: Delete all recently built and pushed ISLE images on local laptop" class="md-nav__link">
    Step 9: Delete all recently built and pushed ISLE images on local laptop
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-10-test-the-images-pushed" title="Step 10: Test the images pushed." class="md-nav__link">
    Step 10: Test the images pushed.
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_testing_guide/" title="Testing Guide" class="md-nav__link">
      Testing Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_ansible_guide/" title="Ansible Guide" class="md-nav__link">
      Ansible Guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Specifications
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Specifications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../06_specifications/specs_dockerfiles/" title="Dockerfiles" class="md-nav__link">
      Dockerfiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../06_specifications/specs_docker_containers_images/" title="Docker Containers & Images" class="md-nav__link">
      Docker Containers & Images
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../06_specifications/specs_diagram_network/" title="Diagram of network and connections" class="md-nav__link">
      Diagram of network and connections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../06_specifications/specs_supported_software_matrix/" title="Supported ISLE Software Matrix" class="md-nav__link">
      Supported ISLE Software Matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../06_specifications/specs_supported_drupal_modules_matrix/" title="Supported Drupal Modules on Test Site Matrix" class="md-nav__link">
      Supported Drupal Modules on Test Site Matrix
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Appendices
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Appendices
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/editing-the-hosts-file/" title="Editing the /ect/hosts file" class="md-nav__link">
      Editing the /ect/hosts file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/sample-it-department-request/" title="Sample IT Department Request Letter" class="md-nav__link">
      Sample IT Department Request Letter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/installing-module-with-composer/" title="Installing a Drupal Module with Composer" class="md-nav__link">
      Installing a Drupal Module with Composer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/installing-module-with-drush/" title="Installing a Drupal Module with Drush" class="md-nav__link">
      Installing a Drupal Module with Drush
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../07_appendices/open-terminal-in-running-container/" title="Opening a Terminal in a Running Container" class="md-nav__link">
      Opening a Terminal in a Running Container
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../about/" title="About ISLE" class="md-nav__link">
      About ISLE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_contributing_to_project/" title="Contributing to Project" class="md-nav__link">
      Contributing to Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_about_maintainers/" title="About Maintainers" class="md-nav__link">
      About Maintainers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dev_policies/" title="Policies" class="md-nav__link">
      Policies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../glossary/" title="Glossary of Terms and Variables" class="md-nav__link">
      Glossary of Terms and Variables
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#assumptions-prerequisites" title="Assumptions / Prerequisites" class="md-nav__link">
    Assumptions / Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-ensure-there-are-no-local-isle-docker-images-present" title="Step 1: Ensure there are no local ISLE Docker images present" class="md-nav__link">
    Step 1: Ensure there are no local ISLE Docker images present
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-rename-the-docker-composeyml-file" title="Step 2: Rename the docker-compose.yml file" class="md-nav__link">
    Step 2: Rename the docker-compose.yml file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-rename-the-docker-compose-buildyml-file" title="Step 3: Rename the docker-compose-build.yml file" class="md-nav__link">
    Step 3: Rename the docker-compose-build.yml file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3a-alternative-for-non-isle-maintainers-only-eg-developers" title="Step 3a: Alternative for non-ISLE maintainers only e.g. Developers" class="md-nav__link">
    Step 3a: Alternative for non-ISLE maintainers only e.g. Developers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-build-the-images-in-this-suggested-order" title="Step 4: Build the images in this suggested order" class="md-nav__link">
    Step 4: Build the images in this suggested order
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-tag-the-resulting-images" title="Step 5: Tag the resulting images" class="md-nav__link">
    Step 5: Tag the resulting images
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-push-the-images-to-the-image-repository" title="Step 6: Push the images to the image repository" class="md-nav__link">
    Step 6: Push the images to the image repository
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-rename-the-docker-compose-buildyml-file" title="Step 7: Rename the docker-compose-build.yml file" class="md-nav__link">
    Step 7: Rename the docker-compose-build.yml file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-rename-the-docker-composeyml-file" title="Step 8: Rename the docker-compose.yml file" class="md-nav__link">
    Step 8: Rename the docker-compose.yml file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-delete-all-recently-built-and-pushed-isle-images-on-local-laptop" title="Step 9: Delete all recently built and pushed ISLE images on local laptop" class="md-nav__link">
    Step 9: Delete all recently built and pushed ISLE images on local laptop
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-10-test-the-images-pushed" title="Step 10: Test the images pushed." class="md-nav__link">
    Step 10: Test the images pushed.
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Build Guide</h1>
                
                <p><strong>Caution</strong>: This guide is recommended for ISLE maintainers or Developers only and not for end-users.</p>
<p>ISLE maintainers are to follow this guide to build the five Docker ISLE images using the <code>docker-compose-build.yml</code> file.</p>
<p>Developers can follow this guide if they have edited their Dockerfiles with custom software and they then can push to their own Docker image repository.</p>
<p>These images will contain the necessary base code, scripts and files to run the default sample <code>isle.localdomain</code>.</p>
<p>This test ISLE / Islandora environment (<code>isle.localdomain</code>) includes an un-themed Drupal website and empty Fedora repository for endusers to develop code, test ingests, test metadata, update fields in SOLR indexing and otherwise "kick the tires" on ISLE prior for further usages e.g. creating a new ISLE production site or migrating a current Islandora production site to ISLE.</p>
<p>While this checklist will attempt to point out most of the usage challenges or pitfalls, ISLE assumes no responsibility or liability in this matter should an enduser have customizations beyond what this guide outlines.</p>
<p><strong>Please note:</strong> There is a <a href="../../glossary/">Glossary</a> with relevant terms to help guide installation.</p>
<h3 id="assumptions-prerequisites">Assumptions / Prerequisites</h3>
<ul>
<li>
<p>Laptop / workstation that conforms to the specifications outlined in the <a href="../../01_installation_host_server/host_server_system_specifications/">Host Server Specifications</a></p>
</li>
<li>
<p>This image build site guide is designed for a local laptop / workstation that has already followed the appropriate setup and configuration instructions in the <code>Test ISLE</code> section of the <a href="../../install_start_here/">Install Start Here</a> guide.</p>
</li>
<li>
<p>Instructions below assume a MacOS or Linux laptop or workstation. Windows users may have to adjust / swap out various tools as needed.</p>
</li>
<li>
<p>The ISLE project has been cloned from the ISLE project repository using the <code>master</code> branch. Do not build ISLE images with untested and developmental code. Only stable releases please.</p>
</li>
<li>
<p>Having a cleaned up system prior to any build is key. Ensure that all local development containers, volumes and images associated with the build are deleted. Otherwise previously unaltered data or configurations could break or alter negatively the new images.</p>
</li>
<li>
<p>ISLE maintainers, Developers have pre-existing knowledge or familiarity with <a href="https://docs.docker.com/engine/reference/builder/">Dockerfiles</a>, the <a href="https://docs.docker.com/engine/reference/commandline/build/">Docker Build</a> process and <a href="https://docs.docker.com/engine/reference/commandline/push/">pushing Docker images</a> to repositories.</p>
</li>
<li>
<p><a href="https://docs.docker.com/engine/reference/builder/">Dockerfiles</a>, their editing process and compositions are familiar or known concepts.</p>
</li>
<li>
<p>ISLE maintainers should already have access to the <a href="https://hub.docker.com/r/islandoracollabgroup">ISLE Dockerhub</a> image repository.</p>
</li>
<li>
<p>Developers should have already setup their own separate Docker image repository. e.g. <a href="https://hub.docker.com">Dockerhub</a> following that site's instructions.</p>
</li>
<li>
<p>Developers are free to mix official ISLE images with your own custom image build. Best practice would be to create new Dockerfiles that use the official ISLE images as the base image to build from.</p>
</li>
</ul>
<hr />
<h3 id="step-1-ensure-there-are-no-local-isle-docker-images-present">Step 1: Ensure there are no local ISLE Docker images present</h3>
<p>If performing a brand new image build, the ISLE maintainer will need to ensure there are no previous image builds or cached build data.</p>
<ul>
<li>
<p><code>docker image ls</code></p>
</li>
<li>
<p>Remove any ISLE images by selecting their <code>IMAGE ID</code></p>
</li>
</ul>
<p>Example:</p>
<pre><code>docker image ls

REPOSITORY                         TAG                 IMAGE ID            CREATED             SIZE
islandoracollabgroup/isle-proxy    1.13                7cbd80c8b043        13 days ago         109MB
islandoracollabgroup/isle-proxy    latest              7cbd80c8b043        13 days ago         109MB
islandoracollabgroup/isle-apache   2.4                 ba6505e7a428        13 days ago         2.25GB
islandoracollabgroup/isle-apache   latest              ba6505e7a428        13 days ago         2.25GB
islandoracollabgroup/isle-apache   &lt;none&gt;              9bc727f301b8        2 weeks ago         2.25GB
islandoracollabgroup/isle-proxy    &lt;none&gt;              23cb1c73c232        2 weeks ago         109MB
</code></pre>

<ul>
<li><code>docker image rm -f 7cbd80c8b043</code></li>
<li><code>docker image rm -f ba6505e7a428</code></li>
<li><code>docker image rm -f 7cbd80c8b043</code></li>
<li><code>docker image rm -f 9bc727f301b8</code></li>
<li><code>docker image rm -f 23cb1c73c232</code></li>
</ul>
<h3 id="step-2-rename-the-docker-composeyml-file">Step 2: Rename the docker-compose.yml file</h3>
<ul>
<li>Rename the <code>docker-compose.yml</code> file to <code>docker-compose.bak</code></li>
</ul>
<h3 id="step-3-rename-the-docker-compose-buildyml-file">Step 3: Rename the docker-compose-build.yml file</h3>
<ul>
<li>Rename the <code>docker-compose-build.yml</code> file to <code>docker-compose.yml</code></li>
</ul>
<h3 id="step-3a-alternative-for-non-isle-maintainers-only-eg-developers">Step 3a: Alternative for non-ISLE maintainers only e.g. Developers</h3>
<p>For <strong>non-ISLE maintainers only e.g. Developers (only)</strong>  you'll need to change the following lines in the newly renamed <code>docker-compose.yml</code> file.</p>
<pre><code>    image: islandoracollabgroup/isle-mysql:latest
    image: islandoracollabgroup/isle-fedora:latest
    image: islandoracollabgroup/isle-apache:latest
    image: islandoracollabgroup/isle-solr:latest
    image: islandoracollabgroup/isle-proxy:latest

    to

    image: yourdockerimagerepo_orgname/isle-mysql:latest
    image: yourdockerimagerepo_orgname/isle-fedora:latest
    image: yourdockerimagerepo_orgname/isle-apache:latest
    image: yourdockerimagerepo_orgname/isle-solr:latest
    image: yourdockerimagerepo_orgname/isle-proxy:latest

</code></pre>

<p>Change only the images you need to rebuild or customize.</p>
<h3 id="step-4-build-the-images-in-this-suggested-order">Step 4: Build the images in this suggested order</h3>
<p>Please perform these steps one at time. If any errors occur during the build process, troubleshoot and edit the associated Dockerfile.</p>
<ul>
<li>
<p><code>docker-compose build mysql</code></p>
</li>
<li>
<p><code>docker-compose build fedora</code></p>
</li>
<li>
<p><code>docker-compose build apache</code></p>
</li>
<li>
<p><code>docker-compose build proxy</code></p>
</li>
<li>
<p><code>docker-compose build solr</code></p>
</li>
</ul>
<h3 id="step-5-tag-the-resulting-images">Step 5: Tag the resulting images</h3>
<p>This renamed <code>docker-compose-build.yml</code> file will tag all builds by default with the <code>latest</code> tag.</p>
<p>Review the current tags found on the <a href="../../06_specifications/specs_docker_containers_images/">Docker Containers &amp; Images</a> Specifications Page. Should the software version change, update this document with the new tags. You will need to tag each image further as needed. There are always two tags for every image, e.g. <code>latest</code> and the specific version of the primary software package used on the image or container. It is possible there will be more tags for different image versions in the future.</p>
<p>For example if the installed proxy nginx software changes from <code>1.13</code> to <code>1.14</code>, change or add the new tag of <code>1.14</code></p>
<p>To learn more about tagging, read the official Docker <a href="https://docs.docker.com/engine/reference/commandline/tag/">tag</a> documentation.</p>
<p>To tag images:</p>
<ul>
<li><code>docker image ls</code> (<em>to see the new IMAGE IDs</em>)</li>
<li><code>docker tag IMAGE ID image/TAG</code></li>
</ul>
<p>IMAGE ID is the 12-character identification string for the image (listed from the Docker images command), and TAG is our newly created versioning tag. So our command to tag a new <code>proxy</code> image would be:</p>
<ul>
<li><code>docker tag 7cbd80c8b043 islandoracollabgroup/isle-proxy:1.13</code></li>
</ul>
<p>Please note: your IMAGE ID will be different than the examples above.</p>
<p>Developers, please note you are welcome to use tags that are useful for your institution e.g. <code>docker tag 7cbd80c8b043 yourdockerimagerepo_orgname/isle-proxy:1.13</code></p>
<h3 id="step-6-push-the-images-to-the-image-repository">Step 6: Push the images to the image repository</h3>
<p><strong>Please note:</strong> These steps assume use of Dockerhub. If you use a different Docker image repository, you'll need to change the following steps per their specific instructions.</p>
<p><code>docker login</code></p>
<p>Example output:</p>
<pre><code>    Login with your Docker ID to push and pull images from Docker Hub. If you don't have a Docker ID, head over to https://hub.docker.com to create one.
    Username (username_here):
</code></pre>

<ul>
<li>Enter your Dockerhub username</li>
<li>Enter your Dockerhub user password.</li>
</ul>
<p>Push the images one at a time. <strong>Please note:</strong> <em>Depending on your Internet connection's upload speed this process may take several hours.</em></p>
<ul>
<li><code>docker push islandoracollabgroup/isle-apache:latest</code></li>
<li><code>docker push islandoracollabgroup/isle-fedora:latest</code></li>
<li><code>docker push islandoracollabgroup/isle-mysql:latest</code></li>
<li><code>docker push islandoracollabgroup/isle-proxy:latest</code></li>
<li><code>docker push islandoracollabgroup/isle-solr:latest</code></li>
</ul>
<p>Repeat the process with any additional tags. <strong>Please note:</strong> <em>Depending on your Internet connection's upload speed this process may take several minutes.</em></p>
<ul>
<li><code>docker push islandoracollabgroup/isle-apache:2.4</code></li>
<li><code>docker push islandoracollabgroup/isle-fedora:3.8.1</code></li>
<li><code>docker push islandoracollabgroup/isle-mysql:5.6</code></li>
<li><code>docker push islandoracollabgroup/isle-proxy:1.13</code></li>
<li><code>docker push islandoracollabgroup/isle-solr:4.10.4</code></li>
</ul>
<h3 id="step-7-rename-the-docker-compose-buildyml-file">Step 7: Rename the docker-compose-build.yml file</h3>
<ul>
<li>Rename the <code>docker-compose.yml</code> file to <code>docker-compose-build.yml</code></li>
</ul>
<h3 id="step-8-rename-the-docker-composeyml-file">Step 8: Rename the docker-compose.yml file</h3>
<ul>
<li>Rename the <code>docker-compose.bak</code> file to <code>docker-compose.yml</code></li>
</ul>
<hr />
<p>Steps below are mandatory for any ISLE maintainer but optional (though recommended) for any Developer.</p>
<h3 id="step-9-delete-all-recently-built-and-pushed-isle-images-on-local-laptop">Step 9: Delete all recently built and pushed ISLE images on local laptop</h3>
<ul>
<li><code>docker image ls</code></li>
</ul>
<p>Example commands to repeat for each type of image.</p>
<ul>
<li><code>docker rm -f IMAGE ID islandoracollabgroup/TAG</code></li>
<li><code>docker rm -f 7cbd80c8b043 islandoracollabgroup/isle-proxy:1.13</code></li>
</ul>
<h3 id="step-10-test-the-images-pushed">Step 10: Test the images pushed.</h3>
<p>Pull down the newly pushed images.</p>
<ul>
<li><code>docker pull islandoracollabgroup/isle-apache:latest</code></li>
<li><code>docker pull islandoracollabgroup/isle-fedora:latest</code></li>
<li><code>docker pull islandoracollabgroup/isle-mysql:latest</code></li>
<li><code>docker pull islandoracollabgroup/isle-proxy:latest</code></li>
<li><code>docker pull islandoracollabgroup/isle-solr:latest</code></li>
</ul>
<p>Follow the instructions within the <code>docker-compose.yml</code> file or within the <a href="../../02_installation_test/ild_installation_guide/">Test Site Installation Guide</a> to start up containers and install the ISLE Test Site (<code>isle.localdomain</code>).</p>
<p>Ensure that all components, connections etc are working, otherwise troubleshoot as required, making the appropriate fixes to the associated Dockerfiles, pushing changes to the ISLE project git repository and then REPEATING this entire build and push process.</p>
<p>Always test prior and post to ensure there are no issues pushed to endusers.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../dev_example_user_story/" title="Example User Story" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Example User Story
              </span>
            </div>
          </a>
        
        
          <a href="../dev_testing_guide/" title="Testing Guide" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Testing Guide
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.583bbe55.js"></script>
      
      <script>app.initialize({version:"1.0",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>